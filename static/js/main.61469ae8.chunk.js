(this.webpackJsonpinotebook=this.webpackJsonpinotebook||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(19),r=s.n(c),l=(s(26),s(9)),o=s(4),i=s(2),d=(s(27),s(11)),j=s(10),b=Object(a.createContext)(),m=s(0),u=function(e){var t=Object(a.useContext)(b).deleteNote,s=e.note,n=e.updateNote;return Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"card my-3",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("div",{className:"d-flex align-items-center",children:[Object(m.jsx)("h6",{className:"card-title",children:s.title}),Object(m.jsx)("i",{className:"far fa-edit mx-2",onClick:function(){n(s)}}),Object(m.jsx)("i",{className:"far fa-trash-alt",onClick:function(){t(s._id),e.showAlert("Deleted note successfully","success")}})]}),Object(m.jsx)("p",{className:"card-text",children:s.description})]})})})},x=function(e){var t=Object(a.useContext)(b).addNote,s=Object(a.useState)({title:"",description:"",tag:""}),n=Object(l.a)(s,2),c=n[0],r=n[1],o=function(e){r(Object(j.a)(Object(j.a)({},c),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)("div",{className:"container mt-4",children:[Object(m.jsx)("div",{className:"font-bold self-center text-xl sm:text-2xl uppercase text-gray-800 my-4",children:"Add Notes"}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"title",value:c.title,name:"title",onChange:o,minLength:3,required:!0})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"description",value:c.description,name:"description",onChange:o,minLength:5,required:!0})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"tag",className:"form-label",children:"Tag"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"tag",value:c.tag,name:"tag",onChange:o,minLength:3,required:!0})]}),Object(m.jsx)("button",{type:"submit",disabled:c.title.length<3||c.description.length<5||c.tag.length<3,className:"btn btn-primary",onClick:function(s){t(c.title,c.description,c.tag),r({title:"",description:"",tag:""}),e.showAlert("Added note successfully","success"),s.preventDefault()},children:"Add Note"})]})]})},h=function(e){var t=Object(i.f)(),s=Object(a.useContext)(b),n=s.notes,c=s.getNotes,r=s.editNote;Object(a.useEffect)((function(){localStorage.getItem("token")?c():t.push("/login")}),[]);var o=Object(a.useRef)(null),h=Object(a.useRef)(null),p=Object(a.useState)({id:"",etitle:"",edescription:"",etag:""}),O=Object(l.a)(p,2),f=O[0],g=O[1],v=function(e){o.current.click(),g({id:e._id,etitle:e.title,edescription:e.description,etag:e.tag})},N=function(e){g(Object(j.a)(Object(j.a)({},f),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{showAlert:e.showAlert},"addingNote"),Object(m.jsx)("button",{ref:o,type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Launch demo modal"}),Object(m.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-hidden":"true",children:Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Note"}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("form",{className:"my-3",children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"etitle",name:"etitle",value:f.etitle,"aria-describedby":"emailHelp",onChange:N,minLength:5,required:!0})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"edescription",name:"edescription",value:f.edescription,onChange:N,minLength:5,required:!0})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"tag",className:"form-label",children:"Tag"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"etag",name:"etag",value:f.etag,onChange:N})]})]})}),Object(m.jsxs)("div",{className:"modal-footer",children:[Object(m.jsx)("button",{ref:h,type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(m.jsx)("button",{disabled:f.etitle.length<3||f.edescription.length<5||f.etag.length<3,onClick:function(t){r(f.id,f.etitle,f.edescription,f.etag),h.current.click(),e.showAlert("Updated note successfully","success")},type:"button",className:"btn btn-primary",children:"Update Note"})]})]})})}),Object(m.jsx)("div",{className:"container mt-4",children:Object(m.jsxs)("div",{className:"row my-1",children:[Object(m.jsx)("p",{className:"font-bold self-center text-xl sm:text-2xl uppercase text-gray-800 my-1",children:"Your Notes"}),Object(m.jsx)("div",{className:"container mx-2",children:0===n.length&&"No notes to display"}),n.map((function(t){return Object(m.jsx)(u,{updateNote:v,showAlert:e.showAlert,note:t},t._id)}))]})})]})},p=function(e){var t=e.showAlert;return Object(m.jsx)("div",{children:Object(m.jsx)(h,{showAlert:t})})},O=s(5),f=s.n(O),g=s(12),v=function(e){var t=Object(i.f)(),s=Object(a.useState)({name:"",email:"",password:""}),n=Object(l.a)(s,2),c=n[0],r=n[1],b=function(){var s=Object(g.a)(f.a.mark((function s(a){var n,l,o,i,d;return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a.preventDefault(),n=c.name,l=c.email,o=c.password,s.next=4,fetch("http://localhost:5000/api/auth/createuser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:l,password:o})});case 4:return i=s.sent,s.next=7,i.json();case 7:d=s.sent,console.log(d),d.success?(localStorage.setItem("token",d.authtoken),e.showAlert("Account created successfully","success"),t.push("/")):e.showAlert("Invalid credentials","danger"),r({email:"",password:""});case 11:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),u=function(e){r(Object(j.a)(Object(j.a)({},c),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(m.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",style:{fontFamily:"Lato"},children:Object(m.jsxs)("div",{className:"px-8 py-4 mx-4 text-left bg-white shadow-lg md:w-1/3 lg:w-1/3 sm:w-1/3",children:[Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-20 h-20 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(m.jsx)("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),Object(m.jsx)("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]})}),Object(m.jsx)("h3",{className:"text-2xl font-bold text-center",children:"Join us"}),Object(m.jsx)("form",{onSubmit:b,children:Object(m.jsxs)("div",{className:"mx-2",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"block",htmlFor:"Name",children:"Name"}),Object(m.jsx)("input",{type:"text",placeholder:"Name",id:"name",name:"name",onChange:u,className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{className:"block",htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{type:"text",placeholder:"Email",id:"email",name:"email",onChange:u,className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{className:"block",children:"Password"}),Object(m.jsx)("input",{type:"password",placeholder:"Password",id:"password",name:"password",onChange:u,className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"})]}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("label",{className:"block",children:"Confirm Password"}),Object(m.jsx)("input",{type:"password",placeholder:"Password",id:"cpassword",name:"cpassword",onChange:u,className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"})]}),Object(m.jsx)("span",{className:"text-xs text-red-400",children:"Password must be same!"}),Object(m.jsx)("div",{className:"flex",children:Object(m.jsx)("button",{className:"w-full px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900",children:"Create Account"})}),Object(m.jsxs)("div",{className:"mt-6 text-grey-dark",children:["Already have an account?",Object(m.jsx)(o.b,{className:"text-blue-600 hover:underline ml-2",to:"/login",children:"Log in"})]})]})})]})})},N=function(e){var t=Object(i.f)(),s=Object(a.useState)({email:"",password:""}),n=Object(l.a)(s,2),c=n[0],r=n[1],b=function(){var s=Object(g.a)(f.a.mark((function s(a){var n,l;return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a.preventDefault(),s.next=3,fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})});case 3:return n=s.sent,s.next=6,n.json();case 6:(l=s.sent).success?(localStorage.setItem("token",l.authtoken),e.showAlert("Logged in successfully","success"),t.push("/")):e.showAlert("Invalid credentials","danger"),r({email:"",password:""});case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),u=function(e){r(Object(j.a)(Object(j.a)({},c),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("link",{rel:"stylesheet",to:"https://kit-pro.fontawesome.com/releases/v5.15.1/css/pro.min.css"}),Object(m.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-300",children:Object(m.jsxs)("div",{className:"flex flex-col bg-white shadow-md px-4 sm:px-6 md:px-8 lg:px-10 py-8 rounded-md w-full max-w-md",children:[Object(m.jsx)("div",{className:"font-medium self-center text-xl sm:text-2xl uppercase text-gray-800",children:"Login To Your Account"}),Object(m.jsx)("div",{className:"mt-10",children:Object(m.jsxs)("form",{onSubmit:b,children:[Object(m.jsxs)("div",{className:"flex flex-col mb-6",children:[Object(m.jsx)("label",{htmlFor:"email",className:"mb-1 text-xs sm:text-sm tracking-wide text-gray-600",children:"E-Mail Address:"}),Object(m.jsxs)("div",{className:"relative",children:[Object(m.jsx)("div",{className:"inline-flex items-center justify-center absolute left-0 top-0 h-full w-10 text-gray-400",children:Object(m.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),Object(m.jsx)("input",{id:"email",type:"email",name:"email",value:c.email,onChange:u,className:"text-sm sm:text-base placeholder-gray-500 pl-10 pr-4 rounded-lg border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400",placeholder:"E-Mail Address"})]})]}),Object(m.jsxs)("div",{className:"flex flex-col mb-6",children:[Object(m.jsx)("label",{htmlFor:"password",className:"mb-1 text-xs sm:text-sm tracking-wide text-gray-600",children:"Password:"}),Object(m.jsxs)("div",{className:"relative",children:[Object(m.jsx)("div",{className:"inline-flex items-center justify-center absolute left-0 top-0 h-full w-10 text-gray-400",children:Object(m.jsx)("span",{children:Object(m.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),Object(m.jsx)("input",{id:"password",type:"password",name:"password",value:c.password,onChange:u,className:"text-sm sm:text-base placeholder-gray-500 pl-10 pr-4 rounded-lg border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400",placeholder:"Password"})]})]}),Object(m.jsx)("div",{className:"flex items-center mb-6 -mt-4",children:Object(m.jsx)("div",{className:"flex ml-auto",children:Object(m.jsx)(o.b,{to:"/",className:"inline-flex text-xs sm:text-sm text-blue-500 hover:text-blue-700",children:"Forgot Your Password?"})})}),Object(m.jsx)("div",{className:"flex w-full",children:Object(m.jsxs)("button",{type:"submit",className:"flex items-center justify-center focus:outline-none text-white text-sm sm:text-base bg-blue-600 hover:bg-blue-700 rounded py-2 w-full transition duration-150 ease-in",children:[Object(m.jsx)("span",{className:"mr-2 uppercase",children:"Login"}),Object(m.jsx)("span",{children:Object(m.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]})}),Object(m.jsxs)("div",{className:"flex justify-center items-center mt-6",children:[Object(m.jsx)("span",{className:"mr-2",children:"Don't have an account ?"}),Object(m.jsxs)(o.b,{to:"/signup",className:"inline-flex items-center font-bold text-blue-500 hover:text-blue-700 text-xs text-center",children:[Object(m.jsx)("span",{children:Object(m.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),Object(m.jsx)("span",{className:"ml-2",children:"Register here"})]})]})]})})]})},y=function(){var e=Object(i.f)(),t=Object(i.g)();return n.a.useEffect((function(){}),[t]),Object(m.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(o.b,{className:"navbar-brand",to:"/",children:"iNotebook"}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(m.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{className:"nav-link ".concat("/"===t.pathname?"active":""),"aria-current":"page",to:"/",children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{className:"nav-link ".concat("/about"===t.pathname?"active":""),to:"/about",children:"About"})})]}),localStorage.getItem("token")?Object(m.jsx)("div",{className:"navbar-nav",children:Object(m.jsx)("button",{className:"btn btn-primary",onClick:function(){localStorage.removeItem("token"),e.push("/login")},children:"Logout"})}):Object(m.jsxs)("form",{className:"d-flex",children:[Object(m.jsx)(o.b,{className:"btn btn-primary mx-1",to:"/signup",role:"button",children:"Signup"}),Object(m.jsx)(o.b,{className:"btn btn-primary mx-1",to:"/login",role:"button",children:"Login"})]})]})]})})},w=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"j"})})},k=function(e){var t="http://localhost:5000",s=Object(a.useState)([]),n=Object(l.a)(s,2),c=n[0],r=n[1],o=function(){var e=Object(g.a)(f.a.mark((function e(){var s,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/api/notes/fetchallnotes"),{method:"GET",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 2:return s=e.sent,e.next=5,s.json();case 5:a=e.sent,r(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(g.a)(f.a.mark((function e(s,a,n){var l,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/api/notes/addnote"),{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:s,description:a,tag:n})});case 2:return l=e.sent,e.next=5,l.json();case 5:o=e.sent,r(c.concat(o));case 7:case"end":return e.stop()}}),e)})));return function(t,s,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(g.a)(f.a.mark((function e(s){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/api/notes/deletenote/").concat(s),{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 2:return a=e.sent,e.next=5,a.json();case 5:e.sent,n=c.filter((function(e){return e._id!==s})),r(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(f.a.mark((function e(s,a,n,l){var o,i,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/api/notes/updatenote/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:a,description:n,tag:l})});case 2:return o=e.sent,e.next=5,o.json();case 5:e.sent,i=JSON.parse(JSON.stringify(c)),d=0;case 8:if(!(d<c.length)){e.next=18;break}if(i[d]._id!==s){e.next=15;break}return i[d].title=a,i[d].description=n,i[d].tag=l,e.abrupt("break",18);case 15:d++,e.next=8;break;case 18:r(i);case 19:case"end":return e.stop()}}),e)})));return function(t,s,a,n){return e.apply(this,arguments)}}();return Object(m.jsx)(b.Provider,{value:{notes:c,addNote:i,deleteNote:d,editNote:j,getNotes:o},children:e.children})};var C=function(e){return e.alert&&Object(m.jsxs)("div",{className:"alert alert-".concat(e.alert.type," alert-dismissible fade show"),role:"alert",children:[Object(m.jsx)("strong",{children:function(e){"danger"===e&&(e="error");var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}(e.alert.type)}),": ",e.alert.msg]})};var S=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),s=t[0],n=t[1],c=function(e,t){n({msg:e,type:t}),setTimeout((function(){n(null)}),2e3)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(k,{children:Object(m.jsxs)(o.a,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(C,{alert:s}),Object(m.jsx)("div",{children:Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/",children:Object(m.jsx)(p,{showAlert:c})}),Object(m.jsx)(i.a,{exact:!0,path:"/about",children:Object(m.jsx)(w,{})}),Object(m.jsx)(i.a,{exact:!0,path:"/login",children:Object(m.jsx)(N,{showAlert:c})}),Object(m.jsx)(i.a,{exact:!0,path:"/signup",children:Object(m.jsx)(v,{showAlert:c})})]})})]})})})};r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.61469ae8.chunk.js.map